# frozen_string_literal: true

require 'reform/form/coercion'

class <%= form_class_name %> < Reform::Form
  feature Coercion

  property :foo
  property :bar

  validation do
    config.messages.backend = :i18n

    params do
      # Registered types [https://github.com/dry-rb/dry-types/blob/v1.2.2/lib/dry/types/params.rb]

      required(:foo).filled(:str?)
      optional(:bar).filled('params.bool')
    end

    rule(:foo) do
      key.failure('must be foo') if value == 'foo'
    end
  end
end
